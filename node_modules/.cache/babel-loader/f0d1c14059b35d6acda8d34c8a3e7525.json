{"ast":null,"code":"import _classCallCheck from\"/Users/aromero32/Desktop/workshop/phono-ortho-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/aromero32/Desktop/workshop/phono-ortho-ui/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/aromero32/Desktop/workshop/phono-ortho-ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/aromero32/Desktop/workshop/phono-ortho-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/aromero32/Desktop/workshop/phono-ortho-ui/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{withRouter}from'react-router';import{wordList}from'../../wordList';import{WhiteTextField}from'../../assets/inputTypes/inputTypes';import Button from'@material-ui/core/Button';import{ThemeProvider}from'@material-ui/styles';import{defaultTheme}from\"../../assets/inputTypes/themes.js\";import{validateAlpha}from'../../utils/validations';import Sound from'react-sound';var WordComponent=/*#__PURE__*/function(_React$Component){_inherits(WordComponent,_React$Component);function WordComponent(props){var _this;_classCallCheck(this,WordComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(WordComponent).call(this,props));_this.images=_this.importAll(require.context('../../assets/images/wordImages',false,/\\.(jpe?g)$/));_this.sounds=_this.importAll(require.context('../../assets/audioFiles/pretest_talker',false,/\\.wav$/));_this.state={currentWord:0,typedAnswer:'',playingStatus:Sound.status.PLAYING};return _this;}_createClass(WordComponent,[{key:\"handleNameChange\",value:function handleNameChange(event){this.setState({typedAnswer:event.target.value});}},{key:\"handleEnter\",value:function handleEnter(event){var _this$state=this.state,currentWord=_this$state.currentWord,typedAnswer=_this$state.typedAnswer;var errors=validateAlpha(typedAnswer);var isDisabled=Object.keys(errors).some(function(x){return errors[x];});if(event.key==='Enter'&&isDisabled){this.props.pushWord(wordList[currentWord],typedAnswer);if(currentWord>=wordList.length-1){this.props.history.push('/final');}this.setState({typedAnswer:'',currentWord:currentWord+1,playingStatus:Sound.status.PLAYING});}}},{key:\"handleButtonClick\",value:function handleButtonClick(){var _this$state2=this.state,currentWord=_this$state2.currentWord,typedAnswer=_this$state2.typedAnswer;this.props.pushWord(wordList[currentWord],typedAnswer);if(currentWord>=wordList.length-1){this.props.history.push('/final');}this.setState({typedAnswer:'',playingStatus:Sound.status.PLAYING,currentWord:this.state.currentWord+1});}},{key:\"importAll\",value:function importAll(r){var images={};// eslint-disable-next-line array-callback-return\nr.keys().map(function(item,index){images[item.replace('','')]=r(item);});return images;}},{key:\"handleFinishPlaying\",value:function handleFinishPlaying(){this.setState({playingStatus:Sound.status.STOPPED});}},{key:\"render\",value:function render(){var _this$state3=this.state,currentWord=_this$state3.currentWord,typedAnswer=_this$state3.typedAnswer,playingStatus=_this$state3.playingStatus;var errors=validateAlpha(this.state.typedAnswer);var isDisabled=Object.keys(errors).some(function(x){return errors[x];});return React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"img\",{src:this.images[\"./pic_\".concat(wordList[currentWord],\".jpg\")],alt:\"\"}),React.createElement(Sound,{url:this.sounds[\"./pretest_talker_\".concat(wordList[currentWord],\".wav\")],playStatus:playingStatus,onFinishedPlaying:this.handleFinishPlaying.bind(this)})),React.createElement(\"div\",{className:\"name-input-container\"},React.createElement(WhiteTextField,{id:\"name-input\",value:typedAnswer,autoComplete:\"off\",autoFocus:true,fullWidth:true,label:\"Enter word\",variant:\"outlined\",spellCheck:false,onChange:this.handleNameChange.bind(this),onKeyPress:this.handleEnter.bind(this)})),React.createElement(ThemeProvider,{theme:defaultTheme},React.createElement(Button,{variant:\"contained\",color:\"primary\",size:\"large\",disabled:!isDisabled,onClick:this.handleButtonClick.bind(this)},\"Continue\")));}}]);return WordComponent;}(React.Component);export var WordComponentView=withRouter(WordComponent);","map":{"version":3,"sources":["/Users/aromero32/Desktop/workshop/phono-ortho-ui/src/components/wordComponent/view.js"],"names":["React","withRouter","wordList","WhiteTextField","Button","ThemeProvider","defaultTheme","validateAlpha","Sound","WordComponent","props","images","importAll","require","context","sounds","state","currentWord","typedAnswer","playingStatus","status","PLAYING","event","setState","target","value","errors","isDisabled","Object","keys","some","x","key","pushWord","length","history","push","r","map","item","index","replace","STOPPED","handleFinishPlaying","bind","handleNameChange","handleEnter","handleButtonClick","Component","WordComponentView"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,cAAzB,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAASC,cAAT,KAA+B,oCAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,aAAT,KAA8B,qBAA9B,CACA,OAASC,YAAT,KAA6B,mCAA7B,CACA,OAASC,aAAT,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,C,GAEMC,CAAAA,a,mFACF,uBAAYC,KAAZ,CAAkB,+CACd,+EAAMA,KAAN,GACA,MAAKC,MAAL,CAAc,MAAKC,SAAL,CAAeC,OAAO,CAACC,OAAR,CAAgB,gCAAhB,CAAkD,KAAlD,CAAyD,YAAzD,CAAf,CAAd,CACA,MAAKC,MAAL,CAAc,MAAKH,SAAL,CAAeC,OAAO,CAACC,OAAR,CAAgB,wCAAhB,CAA0D,KAA1D,CAAiE,QAAjE,CAAf,CAAd,CACA,MAAKE,KAAL,CAAa,CAACC,WAAW,CAAE,CAAd,CAAiBC,WAAW,CAAE,EAA9B,CAAkCC,aAAa,CAAEX,KAAK,CAACY,MAAN,CAAaC,OAA9D,CAAb,CAJc,aAKjB,C,oFAEgBC,K,CAAO,CACpB,KAAKC,QAAL,CAAc,CAAEL,WAAW,CAAEI,KAAK,CAACE,MAAN,CAAaC,KAA5B,CAAd,EACH,C,gDAEWH,K,CAAO,iBACoB,KAAKN,KADzB,CACRC,WADQ,aACRA,WADQ,CACKC,WADL,aACKA,WADL,CAEf,GAAMQ,CAAAA,MAAM,CAAGnB,aAAa,CAACW,WAAD,CAA5B,CACA,GAAMS,CAAAA,UAAU,CAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,IAApB,CAAyB,SAAAC,CAAC,QAAIL,CAAAA,MAAM,CAACK,CAAD,CAAV,EAA1B,CAAnB,CAEA,GAAIT,KAAK,CAACU,GAAN,GAAc,OAAd,EAAyBL,UAA7B,CAAyC,CACrC,KAAKjB,KAAL,CAAWuB,QAAX,CAAoB/B,QAAQ,CAACe,WAAD,CAA5B,CAA2CC,WAA3C,EACA,GAAGD,WAAW,EAAIf,QAAQ,CAACgC,MAAT,CAAkB,CAApC,CAAsC,CAClC,KAAKxB,KAAL,CAAWyB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACH,CACD,KAAKb,QAAL,CAAc,CAAEL,WAAW,CAAE,EAAf,CAAmBD,WAAW,CAAEA,WAAW,CAAG,CAA9C,CAAiDE,aAAa,CAAEX,KAAK,CAACY,MAAN,CAAaC,OAA7E,CAAd,EACH,CACJ,C,6DAEmB,kBACmB,KAAKL,KADxB,CACTC,WADS,cACTA,WADS,CACIC,WADJ,cACIA,WADJ,CAEhB,KAAKR,KAAL,CAAWuB,QAAX,CAAoB/B,QAAQ,CAACe,WAAD,CAA5B,CAA2CC,WAA3C,EACA,GAAGD,WAAW,EAAIf,QAAQ,CAACgC,MAAT,CAAkB,CAApC,CAAsC,CAClC,KAAKxB,KAAL,CAAWyB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACH,CACD,KAAKb,QAAL,CAAc,CAAEL,WAAW,CAAE,EAAf,CAAmBC,aAAa,CAAEX,KAAK,CAACY,MAAN,CAAaC,OAA/C,CAAwDJ,WAAW,CAAE,KAAKD,KAAL,CAAWC,WAAX,CAAyB,CAA9F,CAAd,EACH,C,4CAESoB,C,CAAG,CACT,GAAI1B,CAAAA,MAAM,CAAG,EAAb,CACA;AACA0B,CAAC,CAACR,IAAF,GAASS,GAAT,CAAa,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAAC7B,MAAM,CAAC4B,IAAI,CAACE,OAAL,CAAa,EAAb,CAAgB,EAAhB,CAAD,CAAN,CAA8BJ,CAAC,CAACE,IAAD,CAA/B,CAAuC,CAAtE,EACA,MAAO5B,CAAAA,MAAP,CACH,C,iEAEoB,CACjB,KAAKY,QAAL,CAAc,CAAEJ,aAAa,CAAEX,KAAK,CAACY,MAAN,CAAasB,OAA9B,CAAd,EACH,C,uCAEQ,kBAC6C,KAAK1B,KADlD,CACEC,WADF,cACEA,WADF,CACeC,WADf,cACeA,WADf,CAC4BC,aAD5B,cAC4BA,aAD5B,CAGL,GAAMO,CAAAA,MAAM,CAAGnB,aAAa,CAAC,KAAKS,KAAL,CAAWE,WAAZ,CAA5B,CACA,GAAMS,CAAAA,UAAU,CAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,IAApB,CAAyB,SAAAC,CAAC,QAAIL,CAAAA,MAAM,CAACK,CAAD,CAAV,EAA1B,CAAnB,CAEA,MACI,gCACI,+BACI,2BAAK,GAAG,CAAE,KAAKpB,MAAL,iBAAqBT,QAAQ,CAACe,WAAD,CAA7B,SAAV,CAA6D,GAAG,CAAC,EAAjE,EADJ,CAEI,oBAAC,KAAD,EACI,GAAG,CAAE,KAAKF,MAAL,4BAAgCb,QAAQ,CAACe,WAAD,CAAxC,SADT,CAEI,UAAU,CAAEE,aAFhB,CAGI,iBAAiB,CAAE,KAAKwB,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAHvB,EAFJ,CADJ,CASI,2BAAK,SAAS,CAAC,sBAAf,EACQ,oBAAC,cAAD,EAAgB,EAAE,CAAC,YAAnB,CAAgC,KAAK,CAAE1B,WAAvC,CACA,YAAY,CAAC,KADb,CACmB,SAAS,CAAE,IAD9B,CAEA,SAAS,KAFT,CAEU,KAAK,CAAC,YAFhB,CAE6B,OAAO,CAAC,UAFrC,CAEgD,UAAU,CAAE,KAF5D,CAGA,QAAQ,CAAE,KAAK2B,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAHV,CAG4C,UAAU,CAAE,KAAKE,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAHxD,EADR,CATJ,CAgBI,oBAAC,aAAD,EAAe,KAAK,CAAEtC,YAAtB,EACI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CACA,IAAI,CAAC,OADL,CACa,QAAQ,CAAE,CAACqB,UADxB,CAEA,OAAO,CAAE,KAAKoB,iBAAL,CAAuBH,IAAvB,CAA4B,IAA5B,CAFT,aADJ,CAhBJ,CADJ,CA0BH,C,2BA9EuB5C,KAAK,CAACgD,S,EAiFlC,MAAO,IAAMC,CAAAA,iBAAiB,CAAGhD,UAAU,CAACQ,aAAD,CAApC","sourcesContent":["import React from 'react';\nimport {withRouter} from 'react-router';\nimport {wordList} from '../../wordList';\nimport { WhiteTextField } from '../../assets/inputTypes/inputTypes'\nimport Button from '@material-ui/core/Button';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { defaultTheme } from \"../../assets/inputTypes/themes.js\";\nimport { validateAlpha } from '../../utils/validations';\nimport Sound from 'react-sound';\n\nclass WordComponent extends React.Component {\n    constructor(props){\n        super(props);\n        this.images = this.importAll(require.context('../../assets/images/wordImages', false, /\\.(jpe?g)$/));\n        this.sounds = this.importAll(require.context('../../assets/audioFiles/pretest_talker', false, /\\.wav$/));\n        this.state = {currentWord: 0, typedAnswer: '', playingStatus: Sound.status.PLAYING }\n    }\n\n    handleNameChange(event) {\n        this.setState({ typedAnswer: event.target.value });\n    };\n\n    handleEnter(event) {\n        const {currentWord, typedAnswer} = this.state;\n        const errors = validateAlpha(typedAnswer);\n        const isDisabled = Object.keys(errors).some(x => errors[x]);\n\n        if (event.key === 'Enter' && isDisabled) {\n            this.props.pushWord(wordList[currentWord], typedAnswer);\n            if(currentWord >= wordList.length - 1){\n                this.props.history.push('/final');\n            }\n            this.setState({ typedAnswer: '', currentWord: currentWord + 1, playingStatus: Sound.status.PLAYING });\n        }   \n    }\n\n    handleButtonClick() {\n        const {currentWord, typedAnswer} = this.state;\n        this.props.pushWord(wordList[currentWord], typedAnswer);\n        if(currentWord >= wordList.length - 1){\n            this.props.history.push('/final');\n        }\n        this.setState({ typedAnswer: '', playingStatus: Sound.status.PLAYING, currentWord: this.state.currentWord + 1 })\n    }\n    \n    importAll(r) {\n        let images = {};\n        // eslint-disable-next-line array-callback-return\n        r.keys().map((item, index) => {images[item.replace('','')] = r(item) });\n        return images;\n    }\n\n    handleFinishPlaying(){\n        this.setState({ playingStatus: Sound.status.STOPPED });\n    }\n\n    render() {\n        const {currentWord, typedAnswer, playingStatus} = this.state;\n\n        const errors = validateAlpha(this.state.typedAnswer);\n        const isDisabled = Object.keys(errors).some(x => errors[x]);\n\n        return (\n            <div>\n                <div>\n                    <img src={this.images[`./pic_${wordList[currentWord]}.jpg`]} alt='' />\n                    <Sound\n                        url={this.sounds[`./pretest_talker_${wordList[currentWord]}.wav`]}\n                        playStatus={playingStatus}\n                        onFinishedPlaying={this.handleFinishPlaying.bind(this)}\n                    />\n                </div>\n                <div className='name-input-container'>\n                        <WhiteTextField id=\"name-input\" value={typedAnswer}\n                        autoComplete='off' autoFocus={true}\n                        fullWidth label=\"Enter word\" variant=\"outlined\" spellCheck={false}\n                        onChange={this.handleNameChange.bind(this)} onKeyPress={this.handleEnter.bind(this)}/>\n                </div>\n                \n                <ThemeProvider theme={defaultTheme}>\n                    <Button variant=\"contained\" color=\"primary\"\n                    size='large' disabled={!isDisabled}\n                    onClick={this.handleButtonClick.bind(this)}>\n                        Continue\n                    </Button>\n                </ThemeProvider>\n            </div>\n        );\n    }\n}\n\nexport const WordComponentView = withRouter(WordComponent);"]},"metadata":{},"sourceType":"module"}